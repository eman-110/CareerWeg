<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact Information</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="container">
    <div class="illustration">
      <img src="../../assets/img/hire-signup.png" alt="Illustration" />
    </div>

    <div class="form-wrapper">
      <h3>Contact information</h3>
      <p>Please add your contact information here</p>

      <form>
        <div class="row">
          <div class="input-group">
            <label>First Name*</label>
            <input type="text" id="firstName" required laceholder="Enter First Name" />
          </div>
          <div class="input-group">
            <label>Last Name*</label>
            <input type="text" id="lastName" required placeholder="Enter Last Name" />
          </div>
        </div>

        <div class="input-group full">
          <label>Address*</label>
          <input type="text" id="address" required placeholder="Enter Address" />
        </div>

        <div class="row">
          <div class="input-group">
            <label>City Name*</label>
            <input type="text" id="city" required placeholder="Enter City" />
          </div>
          <div class="input-group">
            <label>Country*</label>
            <input type="text" id="country" required placeholder="Enter Country" />
          </div>
        </div>

        <div class="row">
          <div class="input-group">
            <label>Email*</label>
            <input type="email" id="email" required placeholder="Enter Email" />
          </div>
          <div class="input-group">
            <label>Phone number*</label>
            <input type="tel" id="phoneNumber"  required placeholder="+92 3000000000" />
          </div>
        </div>

        <button type="button" onclick="submitEmployerContact()" class="save-btn">Save</button>

      </form>
    </div>
  </div>

</body>
<script>
  async function submitEmployerContact() {
  const contact = {
    firstName: document.getElementById("firstName").value,
    lastName: document.getElementById("lastName").value,
    address: document.getElementById("address").value,
    city: document.getElementById("city").value,
    country: document.getElementById("country").value,
    email: document.getElementById("email").value,
    phoneNumber: document.getElementById("phoneNumber").value
  };

  // Simple validation
  if (!contact.firstName || !contact.lastName || !contact.email || !contact.phoneNumber) {
    alert("Please fill in all required fields.");
    return;
  }

  const response = await fetch("/api/users/save-employer-contact", {
    method: "POST",
    headers: {
      "Content-Type": "application/json"
    },
    body: JSON.stringify(contact)
  });

  if (response.ok) {
    window.location.href = "/Hire/Submitted/index.html"; // adjust path as needed
  } else {
    alert("Failed to save contact info.");
  }
}

</script>
</html>
